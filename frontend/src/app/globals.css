@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- 1. VARIABLES BASE --- */
@layer base {
  :root {
    --background: oklch(0.985 0.01 240); 
    --foreground: oklch(0.20 0.02 240);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.20 0.02 240);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.20 0.02 240);
    --primary: oklch(0.55 0.20 250); 
    --primary-foreground: oklch(1 0 0);
    --secondary: oklch(0.96 0.01 240);
    --secondary-foreground: oklch(0.35 0.05 240);
    --muted: oklch(0.96 0.01 240);
    --muted-foreground: oklch(0.55 0.05 240);
    --accent: oklch(0.94 0.03 250);
    --accent-foreground: oklch(0.35 0.10 250);
    --destructive: oklch(0.65 0.20 25);
    --destructive-foreground: oklch(1 0 0);
    --border: oklch(0.92 0.01 240);
    --input: oklch(0.95 0.01 240);
    --ring: oklch(0.55 0.20 250);
    --chart-1: oklch(0.65 0.15 250);
    --chart-2: oklch(0.70 0.15 160);
    --chart-3: oklch(0.75 0.15 300);
    --chart-4: oklch(0.75 0.15 80);
    --chart-5: oklch(0.75 0.15 30);
    --radius: 1.25rem; 
    --sidebar: oklch(0.97 0.01 240);
    --sidebar-foreground: oklch(0.25 0.02 240);
    --sidebar-primary: oklch(0.55 0.20 250);
    --sidebar-primary-foreground: oklch(1 0 0);
    --sidebar-accent: oklch(0.94 0.02 240);
    --sidebar-accent-foreground: oklch(0.35 0.05 240);
    --sidebar-border: oklch(0.90 0.01 240);
    --sidebar-ring: oklch(0.55 0.20 250);
  }

  .dark {
    --background: oklch(0.12 0.03 260); 
    --foreground: oklch(0.98 0.01 240);
    --card: oklch(0.16 0.03 260);
    --card-foreground: oklch(0.98 0.01 240);
    --popover: oklch(0.14 0.03 260);
    --popover-foreground: oklch(0.98 0.01 240);
    --primary: oklch(0.65 0.18 250);
    --primary-foreground: oklch(1 0 0);
    --secondary: oklch(0.22 0.04 260);
    --secondary-foreground: oklch(0.98 0.01 240);
    --muted: oklch(0.20 0.04 260);
    --muted-foreground: oklch(0.70 0.05 240);
    --accent: oklch(0.22 0.05 250);
    --accent-foreground: oklch(0.98 0.01 240);
    --destructive: oklch(0.45 0.15 25);
    --destructive-foreground: oklch(0.98 0 0);
    --border: oklch(0.22 0.04 260);
    --input: oklch(0.20 0.04 260);
    --ring: oklch(0.55 0.20 250);
    --chart-1: oklch(0.60 0.15 250);
    --chart-2: oklch(0.65 0.15 160);
    --chart-3: oklch(0.65 0.15 300);
    --chart-4: oklch(0.65 0.15 80);
    --chart-5: oklch(0.65 0.15 30);
    --sidebar: oklch(0.10 0.03 260);
    --sidebar-foreground: oklch(0.98 0 0);
    --sidebar-primary: oklch(0.65 0.18 250);
    --sidebar-primary-foreground: oklch(1 0 0);
    --sidebar-accent: oklch(0.18 0.04 260);
    --sidebar-accent-foreground: oklch(0.98 0 0);
    --sidebar-border: oklch(0.20 0.04 260);
    --sidebar-ring: oklch(0.55 0.20 250);
  }

  * {
    @apply border-border outline-ring/50;
  }
  
  body {
    @apply bg-background text-foreground antialiased selection:bg-primary/20 selection:text-primary;
    background-image: 
        radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
        radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
        radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
    background-attachment: fixed;
  }
}

/* Fix para media query fuera de @layer base si da error de sintaxis, 
   o manteniéndolo dentro si tu versión de postcss lo soporta bien */
@media (prefers-color-scheme: light) {
  body {
      background-image: 
          radial-gradient(at 40% 20%, oklch(0.96 0.03 240) 0px, transparent 50%),
          radial-gradient(at 80% 0%, oklch(0.95 0.05 200) 0px, transparent 50%),
          radial-gradient(at 0% 50%, oklch(0.95 0.05 300) 0px, transparent 50%);
  }
}

@layer components {
  .liquid-glass {
    @apply bg-white/60 dark:bg-black/40 backdrop-blur-2xl border border-white/40 dark:border-white/10 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)];
  }

  .ios-input {
    @apply h-12 rounded-2xl border-transparent bg-white/50 dark:bg-white/5 backdrop-blur-md px-4 font-medium transition-all duration-300 focus:scale-[1.02] focus:bg-white dark:focus:bg-black/50 focus:ring-2 focus:ring-primary/50 focus:shadow-lg focus:shadow-primary/20 outline-none;
  }

  .btn-bouncy {
    @apply relative overflow-hidden rounded-2xl bg-primary px-6 py-3 font-bold text-primary-foreground shadow-lg shadow-primary/30 transition-all duration-300 hover:scale-105 hover:shadow-primary/50 active:scale-95 active:rotate-1;
  }

  .card-oneui {
    @apply bg-white/60 dark:bg-black/40 backdrop-blur-2xl border border-white/40 dark:border-white/10 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] rounded-3xl p-6 transition-transform hover:-translate-y-1 duration-500 ease-out;
  }
}